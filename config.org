#+TITLE: Light-Emacs
#+AUTHOR: Hitendra (hi720tu)
#+Description: My personal configuration of GNU Emacs.

* Package Manager

** Installing straight.el

#+begin_src emacs-lisp

  (defvar bootstrap-version)
  (let ((bootstrap-file
         (expand-file-name
          "straight/repos/straight.el/bootstrap.el"
          (or (bound-and-true-p straight-base-dir)
              user-emacs-directory)))
        (bootstrap-version 7))
    (unless (file-exists-p bootstrap-file)
      (with-current-buffer
          (url-retrieve-synchronously
           "https://raw.githubusercontent.com/radian-software/straight.el/develop/install.el"
           'silent 'inhibit-cookies)
        (goto-char (point-max))
        (eval-print-last-sexp)))
    (load bootstrap-file nil 'nomessage))

  (straight-use-package 'use-package)
  (setq straight-use-package-by-default t)

  ;; Official recommendation
  (setq package-enable-at-startup nil)

#+end_src

* Look & Feel

#+begin_src emacs-lisp

  ;; Clean interface
  (tool-bar-mode -1)

  ;; Adding relative line numbers
  (global-display-line-numbers-mode 1)
  (setq display-line-numbers-type 'relative)

  ;; Vertical window split as default
  (setq split-height-threshold nil)
  (setq split-width-threshold 0)

  ;; Global theme
  (load-theme 'modus-operandi-tinted t)

  ;; Fonts
  (set-face-attribute 'default nil
  		    :font "Martian Mono Nerd Font"
  		    :height 120
  		    :weight 'regular)

  ;; Font to be used during non-monospace contexts
  (set-face-attribute 'variable-pitch nil
  		    :font "Ubuntu"
  		    :height 120
  		    :weight 'medium)

  ;; Make sure new frames get it too
  (add-to-list 'default-frame-alist
  	     '(font . "Martian Mono Nerd Font-12"))

  ;; For Telugu script writing
  (set-fontset-font t 'telugu "Noto Sans Telugu")

  ;; Line Spacing
  (setq-default line-spacing 0.12)

#+end_src

** org-mode

#+begin_src emacs-lisp

  (setq org-indent-indentation-per-level 2)

  (add-hook 'org-mode-hook #'org-indent-mode)
  (global-prettify-symbols-mode 1)

  ;; Special theme for code blocks
  (custom-set-faces
       '(default ((t (:background "#fdf6e3" :foreground "#2e3440")))))

  (setq org-src-fontify-natively t)

  (custom-set-faces
   '(org-block ((t (:background "#e4e7ec" :extend t))))
   '(org-block-begin-line
     ((t (:background "#5e81ac" :foreground "#eceff4" :extend t))))
   '(org-block-end-line
     ((t (:background "#5e81ac" :foreground "#eceff4" :extend t)))))

  ;; Enable wrapping in Org-mode
  (add-hook 'org-mode-hook 'visual-line-mode)

#+end_src

* Packages

** Org-Roam

#+begin_src emacs-lisp

  (use-package org-roam
  :ensure t
  :custom
  (org-roam-directory "~/Documents/RoamNotes")
  :bind (("C-c n t" . org-roam-buffer-toggle)
         ("C-c n f" . org-roam-node-find)
         ("C-c n i" . org-roam-node-insert)
         ("C-c n c" . org-roam-node-capture)
         ("C-c n g" . org-roam-graph))
  :config
  (org-roam-setup))

#+end_src

** Magit

#+begin_src emacs-lisp

  (use-package magit
    :ensure t
    :bind (("C-x g" . magit-status)))

#+end_src

* Improving the Default Settings

** Auto-save & Backup files management

#+begin_src emacs-lisp

  ;; Save all backup files in one place
  (setq backup-directory-alist
        '(("." . "~/.emacs.d/backups")))

  ;; Save all auto-save files in one place
  (setq auto-save-file-name-transforms
        '((".*" "~/.emacs.d/auto-saves/" t)))

  ;; Bug fixes
  (setq backup-by-copying t)     ;; doesn't use symlinks
  (setq delete-old-versions t)   ;; clean up excess backups
  (setq kept-new-versions 6)     ;; keep 6 most recent backups
  (setq kept-old-versions 2)     ;; keep two very old backups
  (setq version-control t)       ;; use numbered backups

#+end_src

** Changing default encoding to UTF-8

#+begin_src emacs-lisp

  (set-language-environment "UTF-8")
  (prefer-coding-system 'utf-8)

#+end_src

